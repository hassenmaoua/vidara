<p-panel [toggleable]="false" class="bg-white dark:bg-gray-900 text-gray-900 dark:text-white rounded-lg shadow">
    <ng-template #header>
        <div class="flex items-center gap-3">
            <p-avatar *ngIf="content?.author?.avatar" [image]="content?.author?.avatar" size="large" shape="circle"></p-avatar>
            <p-avatar *ngIf="!content?.author?.avatar" [label]="content?.author?.name[0]" size="large" shape="circle"></p-avatar>

            <div class="flex flex-col">
                <span class="text-xl font-bold text-base">{{ content?.author?.name }}</span>
                <span class="text-base text-gray-500 dark:text-gray-400">{{ content?.author?.email }}</span>
            </div>
        </div>
    </ng-template>

    <ng-template #icons>
        <span class="text-gray-500 dark:text-gray-400">{{ content?.updatedAt }}</span>
    </ng-template>

    <div class="mt-2 text-base whitespace-pre-wrap">{{ displayDescription }}</div>
    <div *ngIf="content?.description?.length > 200" class="mt-1">
        <button (click)="toggleDescription()" class="text-blue-500 hover:underline text-xs">
            {{ showFullDescription ? 'Show less' : 'Show more' }}
        </button>
    </div>

    <div class="mt-4">
        <ng-container *ngIf="hasImages">
            <div *ngIf="isSingleImage">
                <p-image [src]="content.images[0]" [preview]="false" alt="Content image" styleClass="w-full max-h-96"></p-image>
            </div>
            <div *ngIf="isMultipleImages">
                <p-galleria
                    [value]="galleriaImages"
                    [showItemNavigators]="true"
                    [showThumbnails]="false"
                    [showIndicators]="true"
                    [showItemNavigatorsOnHover]="true"
                    [circular]="true"
                    [responsiveOptions]="galleriaResponsiveOptions"
                    [containerStyle]="{ width: '100%' }"
                >
                    <ng-template let-item pTemplate="item">
                        <img [src]="item.itemImageSrc" class="w-full" />
                    </ng-template>
                    <ng-template #thumbnail let-item>
                        <img [src]="item.thumbnailImageSrc" style="display: block" />
                    </ng-template>
                </p-galleria>
            </div>
        </ng-container>
    </div>
    <div *ngIf="hasVideo" class="mt-4">
        <iframe [src]="content.videoUrl | safeUrl" frameborder="0" allowfullscreen class="w-full aspect-video rounded"></iframe>
    </div>

    <ng-template #footer>
        <div class="flex items-center justify-between pt-2 border-t mt-2 dark:border-gray-700">
            <div class="flex items-center gap-2">
                <p-button icon="pi pi-heart" label="12 likes" rounded text class="text-red-500"></p-button>
                <p-button icon="pi pi-comment" label="136 comments" severity="secondary" text></p-button>
            </div>
            <p-button icon="pi pi-bookmark" severity="secondary" rounded text></p-button>
        </div>
    </ng-template>
</p-panel>
